只支持函数指针和函数对象的function, 而且存在double free的问题, 通过asan检测出来
