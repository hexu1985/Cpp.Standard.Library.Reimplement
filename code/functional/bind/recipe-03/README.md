代码来源 "深入C++11代码优化与工程级应用"书中示例代码, invoke采用了C++17的if constexpr实现

